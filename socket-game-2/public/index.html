<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Socket Game 2</title>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
        }

        #result_div {
            width: 100px;
            height: 100px;

            border: 1px dotted black;
        }
    </style>
</head>
<body>


<!-- inject socket.io -->
<script src="/socket.io/socket.io.js"></script>

<script>

    var socket;     // global socket var.

    // create canvas
    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');
    canvas.width = 300;
    canvas.height = 400;
    document.body.appendChild(canvas);

    ctx.fillStyle = 'rgb(0,0,0)';
    ctx.fillRect(0,0,canvas.width, canvas.height);

    // create buttons
    var button = document.createElement('button');
    button.id = 'button1';
    button.innerHTML = 'connect';

    button.addEventListener('click', function(e) {
        console.log('connecting to game...');
        button.disabled = true;
        button.innerHTML = 'connecting...';

        //TODO: run_game
        start_game();

    });

    document.body.appendChild(button);

    // wrap everything here
    function start_game(game_name) {

    }

//    function run_game() {
//        var game_socket = socket_join_game('/game');
//
//        // socket messages
//        game_socket.on('server-message', function(msg) {
//            console.log(msg);
//
//            // remove button if still present.
//            if (button) {
//                button.style.opacity = 0;
//                console.log('button remove attempted.');
//            }
//        });
//    }


//    function socket_join_game(game_name) {
//        var socket = io(game_name);
//        return socket;
//    }

</script>

</body>
</html>