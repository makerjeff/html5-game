<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>composite builder</title>

    <style>

        .container {
            display: block;
            position: relative;
        }
        .img_layer {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>

<div id="container" class="container">

</div>


<script>

    var container = document.getElementById('container');

    var background_src = './sourcefiles/bg-ground.png';
    var center_src = './sourcefiles/center-darkbrown.png';
    var left_src = './sourcefiles/left-darkbrown.png';
    var right_src = './sourcefiles/right-darkbrown.png';

    var canvas = document.createElement('canvas');
    var ctx = canvas.getContext('2d');

    canvas.width = 640;
    canvas.height = 480;

    container.appendChild(canvas);

    var bg_img = new Image();

    bg_img.onload = function() {
        ctx.save();
        ctx.drawImage(bg_img, 0,0);
        ctx.restore();

        var append_image = new Image();
        append_image.src = canvas.toDataURL('image/jpeg', 0.8);

        container.appendChild(append_image);
    };

    bg_img.src = background_src;






//    var append_image = document.createElement('img');
//
//    append_image.src = canvas.toDataURL('image/jpeg', 0.5);
//
//    document.body.appendChild(append_image);





</script>

</body>
</html>